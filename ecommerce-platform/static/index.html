<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼˜é€‰å•†åŸ - å“è´¨ç”Ÿæ´»ï¼Œä¼˜é€‰å¥½ç‰©</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›’</text></svg>">
</head>
<body>
    <div class="page-wrapper">
        <!-- å¤´éƒ¨ -->
        <header class="header">
            <div class="container header-inner">
                <a href="/" class="logo" onclick="navigate('/'); return false;">
                    <div class="logo-icon">ğŸ›’</div>
                    <span>ä¼˜é€‰å•†åŸ</span>
                </a>
                
                <div class="search-box">
                    <input type="text" class="search-input" id="search-input" placeholder="æœç´¢å•†å“..." 
                           onkeypress="if(event.key==='Enter') searchProducts()">
                    <button class="search-btn" onclick="searchProducts()">æœç´¢</button>
                </div>
                
                <nav class="nav-links">
                    <a href="/login" class="nav-link">ç™»å½•</a>
                    <a href="/register" class="btn btn-primary btn-sm">æ³¨å†Œ</a>
                </nav>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <div class="container" id="app-content">
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            </div>
        </main>

        <!-- é¡µè„š -->
        <footer class="footer">
            <div class="container">
                <div class="footer-grid">
                    <div>
                        <h4 class="footer-title">å…³äºæˆ‘ä»¬</h4>
                        <ul class="footer-links">
                            <li><a href="#">å…¬å¸ç®€ä»‹</a></li>
                            <li><a href="#">è”ç³»æˆ‘ä»¬</a></li>
                            <li><a href="#">åŠ å…¥æˆ‘ä»¬</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="footer-title">è´­ç‰©æŒ‡å—</h4>
                        <ul class="footer-links">
                            <li><a href="#">è´­ç‰©æµç¨‹</a></li>
                            <li><a href="#">æ”¯ä»˜æ–¹å¼</a></li>
                            <li><a href="#">é…é€æ–¹å¼</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="footer-title">å”®åæœåŠ¡</h4>
                        <ul class="footer-links">
                            <li><a href="#">é€€æ¢æ”¿ç­–</a></li>
                            <li><a href="#">å”®åä¿éšœ</a></li>
                            <li><a href="#">å¸¸è§é—®é¢˜</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="footer-title">å•†å®¶å…¥é©»</h4>
                        <ul class="footer-links">
                            <li><a href="#">å…¥é©»æµç¨‹</a></li>
                            <li><a href="#">å•†å®¶è§„èŒƒ</a></li>
                            <li><a href="#">å•†å®¶ä¸­å¿ƒ</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>Â© 2024 ä¼˜é€‰å•†åŸ ç‰ˆæƒæ‰€æœ‰ | ç¤ºä¾‹ç”µå•†å¹³å°</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/app.js"></script>
    <script src="/static/js/pages.js"></script>
    <script src="/static/js/orders.js"></script>
    <script src="/static/js/admin.js"></script>
    <script>
        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', async () => {
            // æ£€æŸ¥ç™»å½•çŠ¶æ€
            await checkAuth();
            
            // å¤„ç†å½“å‰è·¯ç”±
            handleRoute();
            
            // ç›‘å¬æµè§ˆå™¨å‰è¿›åé€€
            window.addEventListener('popstate', handleRoute);
        });

        // é˜»æ­¢é“¾æ¥é»˜è®¤è·³è½¬ï¼Œä½¿ç”¨SPAè·¯ç”±
        document.addEventListener('click', (e) => {
            const link = e.target.closest('a');
            if (link && link.href && link.href.startsWith(window.location.origin)) {
                const path = new URL(link.href).pathname;
                // æ’é™¤å¤–éƒ¨é“¾æ¥å’Œç‰¹æ®Šé“¾æ¥
                if (!link.target && !link.download && path !== '#') {
                    e.preventDefault();
                    navigate(path);
                }
            }
        });
    </script>
</body>
</html>
